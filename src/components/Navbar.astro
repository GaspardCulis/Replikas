---
import Logo from "./Logo.astro";
import NavigationItem from "./NavigationItem.astro";
import SquareLink from "./SquareLink.astro";
---

<header>
	<Logo />
	<nav>
		<NavigationItem href="/" text="ROMANCE" />
		<NavigationItem href="/" text="ACTION" selected />
		<NavigationItem href="/" text="AVENTURE" />
	</nav>
	<div>
		<SquareLink href="/login" text="LOG IN" />
		<SquareLink href="/register" text="SIGN UP" theme="orange" />
	</div>
</header>

<div class="toggle">
	<div id="hamburger">
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
	</div>
</div>

<style>
	:root {
		--background-color: #252e38;
	}

	body {
		margin: 0px;
		padding: 0px;

		overflow-x: hidden;
	}

	header {
		position: absolute;
		display: flex;
		justify-content: space-between;
		background-color: var(--background-color);
		padding-inline: 1rem;
		color: whitesmoke;

		width: 100%;
		padding: 0px;
		margin: 0px;

		z-index: 1;
	}

	header img {
		height: 100%;
	}

	nav {
		display: flex;
		align-items: center;
	}

	div {
		display: flex;
		align-items: center;
	}

	@media (min-width: 820px) {
		/* Desktop */
		header {
			height: 6rem;
		}

		.toggle {
			display: none;
		}
	}

	@media (max-width: 820px) {
		/* Mobile */
		header {
			height: 100%;
			flex-direction: column;
			transform: translateX(100%);
			transition: transform 0.5s ease-in-out;
		}

		header.displayed {
			transform: translateX(0%);
		}

		nav {
			flex-direction: column;
			align-items: flex-start;
		}

		.toggle {
			display: flex;
			justify-content: flex-end;
			align-items: center;
			position: absolute;
			top: 0;
			right: 0;
			width: 100%;
			height: 6rem;
			padding-inline: 1rem;
			z-index: 2;
		}

		#hamburger {
			width: 2rem;
			height: 2rem;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			cursor: pointer;

			background-color: var(--background-color);
			border-radius: 1rem;
			padding: 0.5rem;
		}

		#hamburger .bar {
			width: 100%;
			height: 3px;
			background-color: whitesmoke;
			transition: all 0.3s ease-in-out;
		}

		#hamburger .bar:nth-child(1) {
			transform: translateY(0.4rem);
		}

		#hamburger .bar:nth-child(3) {
			transform: translateY(-0.4rem);
		}

		#hamburger.open .bar:nth-child(1) {
			transform: rotate(45deg) translateY(1.25rem);
		}

		#hamburger.open .bar:nth-child(2) {
			opacity: 0;
		}

		#hamburger.open .bar:nth-child(3) {
			transform: rotate(-45deg) translateY(-1.25rem);
		}
	}
</style>

<script>
	const mobileNavbarOpenButton = document.getElementById("hamburger");
	mobileNavbarOpenButton.addEventListener("click", () => {
		document.querySelector("header").classList.toggle("displayed");
		document.querySelector("#hamburger").classList.toggle("open");
	});
</script>
